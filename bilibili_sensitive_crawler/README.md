# å“”å“©å“”å“©æ•æ„Ÿè§†é¢‘çˆ¬è™«

ä¸€ä¸ªä¸“é—¨ç”¨äºæ„å»ºè§†è§‰å¤§è¯­è¨€æ¨¡å‹è¯„æµ‹æ•°æ®é›†çš„ B ç«™è§†é¢‘çˆ¬è™«å·¥å…·ï¼Œæ”¯æŒæ•æ„Ÿå†…å®¹æ£€æµ‹å’Œè‡ªåŠ¨åŒ–æ•°æ®é‡‡é›†ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ `bilibili-api` é¡¹ç›®çš„å­æ¨¡å—ï¼Œä¸“é—¨é’ˆå¯¹ç‰¹å®šå…³é”®è¯ï¼ˆå¦‚æ•æ„Ÿå†…å®¹ç›¸å…³è¯æ±‡ï¼‰è¿›è¡Œè§†é¢‘æœç´¢ã€ä¿¡æ¯çˆ¬å–å’Œè§†é¢‘ä¸‹è½½ï¼Œç”¨äºæ„å»ºè§†è§‰å¤§è¯­è¨€æ¨¡å‹ï¼ˆVLMï¼‰çš„è¯„æµ‹æ•°æ®é›†ã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **æ™ºèƒ½ç™»å½•ç³»ç»Ÿ**ï¼šæ”¯æŒæ‰«ç ç™»å½•å’Œ Cookie ç™»å½•ï¼Œè‡ªåŠ¨å¤„ç†è®¤è¯æµç¨‹
- **å…³é”®è¯æœç´¢**ï¼šåŸºäºç‰¹å®šå…³é”®è¯æœç´¢ç›¸å…³è§†é¢‘å†…å®¹
- **ä¿¡æ¯çˆ¬å–**ï¼šæ‰¹é‡è·å–è§†é¢‘è¯¦ç»†ä¿¡æ¯å’Œå…ƒæ•°æ®
- **è§†é¢‘ä¸‹è½½**ï¼šæ”¯æŒå¤šç§æ¸…æ™°åº¦çš„è§†é¢‘ä¸‹è½½ï¼ˆ360P-1080Pï¼‰
- **æ•°æ®é›†ç®¡ç†**ï¼šå®Œæ•´çš„æ•°æ®é›†æ„å»ºã€ç®¡ç†å’Œç»Ÿè®¡åŠŸèƒ½
- **è§†é¢‘è¿‡æ»¤**ï¼šåŸºäºæ—¶é•¿ç­‰æ¡ä»¶çš„æ™ºèƒ½è§†é¢‘è¿‡æ»¤å’Œæ¸…ç† â­ **æ–°åŠŸèƒ½**
- **æ–‡ä»¶åˆ†æ**ï¼šè§†é¢‘æ–‡ä»¶ä¸å…ƒæ•°æ®çš„åŒ¹é…åˆ†æå’Œå­¤ç«‹æ–‡ä»¶æ£€æµ‹ â­ **æ–°åŠŸèƒ½**
- **ç´¢å¼•ç®¡ç†**ï¼šè‡ªåŠ¨ç»´æŠ¤å’ŒåŒæ­¥ index.json ç´¢å¼•æ–‡ä»¶ â­ **æ–°åŠŸèƒ½**
- **å¼‚å¸¸å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- **å¹¶å‘æ§åˆ¶**ï¼šæ”¯æŒå¹¶å‘ä¸‹è½½ï¼Œæé«˜é‡‡é›†æ•ˆç‡

### ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
bilibili_sensitive_crawler/
â”œâ”€â”€ main.py                  # ä¸»å…¥å£æ–‡ä»¶ï¼Œæä¾›å‘½ä»¤è¡Œç•Œé¢
â”œâ”€â”€ config/                  # é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ config.json         # ä¸»é…ç½®æ–‡ä»¶ï¼ˆJSONæ ¼å¼ï¼‰
â”‚   â”œâ”€â”€ config.yaml         # å¤‡ç”¨é…ç½®æ–‡ä»¶ï¼ˆYAMLæ ¼å¼ï¼‰
â”‚   â””â”€â”€ settings.py         # é…ç½®åŠ è½½å’Œç®¡ç†é€»è¾‘
â”œâ”€â”€ utils/                   # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py         # æ¨¡å—åˆå§‹åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ login.py            # Bç«™ç™»å½•æ¨¡å—ï¼ˆæ‰«ç /Cookieç™»å½•ï¼‰
â”‚   â”œâ”€â”€ search.py           # è§†é¢‘æœç´¢æ¨¡å—
â”‚   â”œâ”€â”€ crawler.py          # è§†é¢‘ä¿¡æ¯çˆ¬å–æ¨¡å—
â”‚   â”œâ”€â”€ downloader.py       # è§†é¢‘ä¸‹è½½æ¨¡å—
â”‚   â”œâ”€â”€ dataset.py          # æ•°æ®é›†ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ video_filter.py     # è§†é¢‘è¿‡æ»¤æ¨¡å— â­ **æ–°æ¨¡å—**
â”‚   â””â”€â”€ file_analyzer.py    # æ–‡ä»¶åˆ†ææ¨¡å— â­ **æ–°æ¨¡å—**
â”œâ”€â”€ data/                    # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ json/               # è§†é¢‘å…ƒæ•°æ®å­˜å‚¨ï¼ˆJSONæ ¼å¼ï¼‰
â”‚   â”‚   â””â”€â”€ index.json      # ç´¢å¼•æ–‡ä»¶ â­ **é‡è¦æ–‡ä»¶**
â”‚   â””â”€â”€ videos/             # ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ logs/                    # æ—¥å¿—æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ tests/                   # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ test_data/          # æµ‹è¯•æ•°æ®
â”‚   â””â”€â”€ run_tests.py        # æµ‹è¯•è¿è¡Œè„šæœ¬
â”œâ”€â”€ examples/                # ä½¿ç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ basic_usage.py      # åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ scripts/                 # è¾…åŠ©è„šæœ¬
â”œâ”€â”€ docs/                    # è¯¦ç»†æ–‡æ¡£ â­ **æ–°å¢**
â”‚   â”œâ”€â”€ video_filter.md     # è§†é¢‘è¿‡æ»¤æ¨¡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ file_analyzer.md    # æ–‡ä»¶åˆ†ææ¨¡å—æ–‡æ¡£
â”‚   â””â”€â”€ ...                 # å…¶ä»–æ¨¡å—æ–‡æ¡£
â”œâ”€â”€ requirements.txt         # é¡¹ç›®ä¾èµ–åˆ—è¡¨
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- ç¨³å®šçš„ç½‘ç»œè¿æ¥
- è¶³å¤Ÿçš„å­˜å‚¨ç©ºé—´ï¼ˆå»ºè®®è‡³å°‘ 10GBï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-username/bilibili-api.git
cd bilibili-api/bilibili_sensitive_crawler
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**ï¼ˆæ¨èï¼‰
```bash
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

4. **ç”Ÿæˆé…ç½®æ–‡ä»¶**
```bash
python main.py --generate-config
```

### åŸºæœ¬ä½¿ç”¨

#### 1. é»˜è®¤é…ç½®è¿è¡Œ
```bash
python main.py
```

#### 2. è‡ªå®šä¹‰å…³é”®è¯æœç´¢
```bash
python main.py --keywords "å…³é”®è¯1" "å…³é”®è¯2" --limit 50
```

#### 3. ä»…çˆ¬å–ä¿¡æ¯ï¼Œä¸ä¸‹è½½è§†é¢‘
```bash
python main.py --info-only --keywords "æµ‹è¯•å…³é”®è¯"
```

#### 4. æŒ‡å®šè§†é¢‘è´¨é‡å’Œå¹¶å‘æ•°
```bash
python main.py --quality 64 --concurrent 5 --max-videos 200
```

## ğŸ”§ æ•°æ®é›†ç®¡ç†åŠŸèƒ½ â­ **æ–°åŠŸèƒ½**

### è§†é¢‘è¿‡æ»¤åŠŸèƒ½

#### 1. ä¸‹è½½æ—¶æ—¶é•¿è¿‡æ»¤ â­ **æ–°åŠŸèƒ½**
```bash
# å¯ç”¨ä¸‹è½½æ—¶æ—¶é•¿è¿‡æ»¤ï¼Œé™åˆ¶30ç§’
python main.py --keywords "æµ‹è¯•å…³é”®è¯" --download --max-duration 30

# è‡ªå®šä¹‰æ—¶é•¿é™åˆ¶ä¸º60ç§’
python main.py --keywords "æµ‹è¯•å…³é”®è¯" --download --max-duration 60

# è®¾ç½®å…¶ä»–æ—¶é•¿é™åˆ¶ï¼Œæ¯”å¦‚120ç§’
python main.py --keywords "æµ‹è¯•å…³é”®è¯" --download --max-duration 120

# ç»“åˆå…¶ä»–å‚æ•°ä½¿ç”¨
python main.py --keywords "å…³é”®è¯1" "å…³é”®è¯2" --download --max-duration 45 --quality 64 --limit 100

# ä»…çˆ¬å–ä¿¡æ¯ï¼Œä¸ä¸‹è½½ï¼Œä½†ä»ç„¶è¿‡æ»¤ï¼ˆä¿å­˜å…ƒæ•°æ®æ—¶ä¼šè®°å½•æ˜¯å¦è¶…æ—¶é•¿ï¼‰
python main.py --keywords "æµ‹è¯•" --info-only --max-duration 30
```

**åŠŸèƒ½è¯´æ˜ï¼š**
- åªè¦æŒ‡å®šäº† `--max-duration` å‚æ•°ï¼Œå°±ä¼šè‡ªåŠ¨åœ¨ä¸‹è½½å‰æ£€æŸ¥è§†é¢‘æ—¶é•¿
- è¶…è¿‡æ—¶é•¿é™åˆ¶çš„è§†é¢‘ä¼šè·³è¿‡ä¸‹è½½ï¼Œä½†ä»ä¿å­˜å…ƒæ•°æ®æ–‡ä»¶
- å¦‚æœä¸æŒ‡å®š `--max-duration`ï¼Œåˆ™ä¸è¿›è¡Œæ—¶é•¿è¿‡æ»¤ï¼Œä¸‹è½½æ‰€æœ‰è§†é¢‘

#### 2. åˆ é™¤è¶…é•¿è§†é¢‘
```bash
# åˆ é™¤è¶…è¿‡30ç§’çš„è§†é¢‘ï¼ˆè¯•è¿è¡Œï¼‰
python main.py --delete-long-videos --max-duration 30 --dry-run

# å®é™…åˆ é™¤è¶…è¿‡30ç§’çš„è§†é¢‘
python main.py --delete-long-videos --max-duration 30 --generate-report

# ä»…åˆ—å‡ºè¶…é•¿è§†é¢‘ï¼Œä¸åˆ é™¤
python main.py --list-long-videos --max-duration 30
```

#### 3. ç”Ÿæˆåˆ é™¤æŠ¥å‘Š
```bash
# åˆ é™¤è¶…é•¿è§†é¢‘å¹¶ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
python main.py --delete-long-videos --max-duration 60 --generate-report
```

### æ–‡ä»¶åˆ†æåŠŸèƒ½

#### 1. æ£€æŸ¥ç´¢å¼•å®Œæ•´æ€§
```bash
# æ£€æŸ¥ç´¢å¼•æ–‡ä»¶çš„å®Œæ•´æ€§å’ŒåŒ¹é…æƒ…å†µ
python main.py --check-index
```

#### 2. åŒæ­¥ç´¢å¼•æ–‡ä»¶
```bash
# è¯•è¿è¡Œç´¢å¼•åŒæ­¥
python main.py --sync-index --dry-run

# å®é™…æ‰§è¡Œç´¢å¼•åŒæ­¥
python main.py --sync-index
```

#### 3. åˆ†ææ–‡ä»¶åŒ¹é…æƒ…å†µ
```bash
# åˆ†ææ–‡ä»¶åŒ¹é…æƒ…å†µï¼ˆåŒ…å«ç´¢å¼•æ£€æŸ¥ï¼‰
python main.py --analyze-files

# æ¸…ç†å­¤ç«‹æ–‡ä»¶å¹¶åŒæ­¥ç´¢å¼•
python main.py --clean-orphan-videos --clean-orphan-jsons --update-index

# è¯•è¿è¡Œæ¸…ç†æ“ä½œ
python main.py --clean-orphan-videos --clean-orphan-jsons --update-index --dry-run
```

#### 4. ç”Ÿæˆåˆ†ææŠ¥å‘Š
```bash
# ç”Ÿæˆè¯¦ç»†çš„æ–‡ä»¶åˆ†ææŠ¥å‘Š
python main.py --save-analysis-report
```

## ğŸ“– è¯¦ç»†ä½¿ç”¨è¯´æ˜

### å‘½ä»¤è¡Œå‚æ•°

#### åŸºæœ¬å‚æ•°
| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--config` | str | `config/config.json` | é…ç½®æ–‡ä»¶è·¯å¾„ |
| `--generate-config` | flag | - | ç”Ÿæˆé»˜è®¤é…ç½®æ–‡ä»¶å¹¶é€€å‡º |
| `--debug` | flag | - | å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼Œæ˜¾ç¤ºè¯¦ç»†æ—¥å¿— |
| `--log-file` | str | `logs/bili_crawler.log` | æ—¥å¿—æ–‡ä»¶è·¯å¾„ |
| `--force-login` | flag | - | å¼ºåˆ¶é‡æ–°ç™»å½• |
| `--use-cookie` | flag | - | ä½¿ç”¨ Cookie ç™»å½• |

#### æœç´¢å’Œä¸‹è½½å‚æ•°
| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--keywords` | list | - | æœç´¢å…³é”®è¯åˆ—è¡¨ |
| `--limit` | int | 100 | æ¯ä¸ªå…³é”®è¯çš„è§†é¢‘æ•°é‡é™åˆ¶ |
| `--download` | flag | - | ä¸‹è½½è§†é¢‘æ–‡ä»¶ |
| `--info-only` | flag | - | ä»…çˆ¬å–è§†é¢‘ä¿¡æ¯ï¼Œä¸ä¸‹è½½ |
| `--quality` | int | 32 | è§†é¢‘è´¨é‡ï¼ˆ16=360P, 32=480P, 64=720P, 80=1080Pï¼‰ |
| `--metadata-dir` | str | - | å…ƒæ•°æ®ä¿å­˜ç›®å½• |
| `--video-dir` | str | - | è§†é¢‘ä¿å­˜ç›®å½• |
| `--max-videos` | int | 1000 | æœ€å¤§è§†é¢‘æ•°é‡ |
| `--resume` | flag | - | æ¢å¤ä¸Šæ¬¡çˆ¬å– |
| `--max-retries` | int | 3 | æœ€å¤§é‡è¯•æ¬¡æ•° |
| `--interval` | float | 1.0 | è¯·æ±‚é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ |

#### è§†é¢‘è¿‡æ»¤å‚æ•° â­ **æ–°å‚æ•°**
| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--delete-long-videos` | flag | - | åˆ é™¤è¶…å‡ºæŒ‡å®šæ—¶é•¿çš„è§†é¢‘åŠå…¶å…ƒæ•°æ®æ–‡ä»¶ |
| `--list-long-videos` | flag | - | åˆ—å‡ºè¶…å‡ºæŒ‡å®šæ—¶é•¿çš„è§†é¢‘ï¼ˆä¸åˆ é™¤ï¼‰ |
| `--max-duration` | int | 30 | æœ€å¤§å…è®¸è§†é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰ï¼ŒæŒ‡å®šåè‡ªåŠ¨å¯ç”¨ä¸‹è½½æ—¶è¿‡æ»¤ |
| `--dry-run` | flag | - | è¯•è¿è¡Œæ¨¡å¼ï¼Œä¸å®é™…åˆ é™¤æ–‡ä»¶ |
| `--generate-report` | flag | - | ç”Ÿæˆåˆ é™¤æ“ä½œæŠ¥å‘Š |

#### æ–‡ä»¶åˆ†æå‚æ•° â­ **æ–°å‚æ•°**
| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--analyze-files` | flag | - | åˆ†æè§†é¢‘æ–‡ä»¶å’ŒJSONæ–‡ä»¶çš„åŒ¹é…æƒ…å†µ |
| `--clean-orphan-videos` | flag | - | æ¸…ç†å­¤ç«‹çš„è§†é¢‘æ–‡ä»¶ï¼ˆæœ‰è§†é¢‘æ— JSONï¼‰ |
| `--clean-orphan-jsons` | flag | - | æ¸…ç†å­¤ç«‹çš„JSONæ–‡ä»¶ï¼ˆæœ‰JSONæ— è§†é¢‘ï¼‰ |
| `--save-analysis-report` | flag | - | ä¿å­˜æ–‡ä»¶åˆ†ææŠ¥å‘Šåˆ°æ–‡ä»¶ |
| `--sync-index` | flag | - | åŒæ­¥index.jsonç´¢å¼•æ–‡ä»¶ä¸å®é™…æ–‡ä»¶ |
| `--update-index` | flag | - | åœ¨æ¸…ç†æ–‡ä»¶æ—¶åŒæ—¶æ›´æ–°ç´¢å¼•æ–‡ä»¶ |
| `--check-index` | flag | - | æ£€æŸ¥ç´¢å¼•æ–‡ä»¶çš„å®Œæ•´æ€§å’ŒåŒ¹é…æƒ…å†µ |

### é…ç½®æ–‡ä»¶è¯´æ˜

é¡¹ç›®æ”¯æŒ JSON å’Œ YAML ä¸¤ç§é…ç½®æ ¼å¼ï¼Œä¸»è¦é…ç½®é¡¹åŒ…æ‹¬ï¼š

#### è·¯å¾„é…ç½®
```json
{
    "paths": {
        "data_dir": "data",
        "logs_dir": "logs", 
        "metadata_dir": "data/json",
        "videos_dir": "data/videos"
    }
}
```

#### ç™»å½•é…ç½®
```json
{
    "login": {
        "use_cookie": false,
        "qrcode_in_terminal": true,
        "verify_timeout": 60,
        "max_retries": 3
    }
}
```

#### æœç´¢é…ç½®
```json
{
    "search": {
        "keywords": ["æµ‹è¯•"],
        "limit_per_keyword": 100,
        "order_type": "pubdate",
        "min_duration": 30,
        "max_duration": 600
    }
}
```

#### ä¸‹è½½é…ç½®
```json
{
    "downloader": {
        "default_quality": 32,
        "concurrent_limit": 3,
        "retry_times": 3,
        "max_size_gb": 800
    }
}
```

#### è§†é¢‘è¿‡æ»¤é…ç½® â­ **æ–°é…ç½®**
```json
{
    "video_filter": {
        "max_duration": 30,
        "filter_on_download": true,
        "backup_before_delete": true,
        "generate_reports": true,
        "update_index": true
    }
}
```

#### ç´¢å¼•é…ç½® â­ **æ–°é…ç½®**
```json
{
    "index": {
        "auto_update": true,
        "backup_before_update": true,
        "validate_on_load": true,
        "compress_on_save": false
    }
}
```

## ğŸ”§ æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. ç™»å½•æ¨¡å— (`utils/login.py`)

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- æ”¯æŒäºŒç»´ç æ‰«ç ç™»å½•
- æ”¯æŒ Cookie æ–‡ä»¶ç™»å½•
- è‡ªåŠ¨å‡­è¯ç®¡ç†å’Œåˆ·æ–°
- ç½‘ç»œè¿æ¥æ£€æµ‹
- ç™»å½•çŠ¶æ€éªŒè¯

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```python
from utils.login import BiliLogin

login = BiliLogin()
```

### 2. æœç´¢æ¨¡å— (`utils/search.py`)

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- å…³é”®è¯æœç´¢
- å¤šç§æ’åºæ–¹å¼ï¼ˆå‘å¸ƒæ—¶é—´ã€æ’­æ”¾é‡ã€å¼¹å¹•æ•°ç­‰ï¼‰
- æ—¶é•¿ç­›é€‰
- åˆ†åŒºç­›é€‰
- åˆ†é¡µè·å–

**æœç´¢å‚æ•°ï¼š**
- `order_type`: æ’åºæ–¹å¼ï¼ˆ`pubdate`/`totalrank`/`click`/`dm`ï¼‰
- `duration_type`: æ—¶é•¿ç­›é€‰ï¼ˆ0=å…¨éƒ¨, 1=0-10åˆ†é’Ÿ, 2=10-30åˆ†é’Ÿç­‰ï¼‰
- `tids`: åˆ†åŒºIDç­›é€‰

### 3. çˆ¬å–æ¨¡å— (`utils/crawler.py`)

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- æ‰¹é‡è§†é¢‘ä¿¡æ¯è·å–
- å¼‚æ­¥å¹¶å‘å¤„ç†
- æ™ºèƒ½é‡è¯•æœºåˆ¶
- è¯¦ç»†é”™è¯¯è®°å½•

**è·å–ä¿¡æ¯åŒ…æ‹¬ï¼š**
- è§†é¢‘åŸºæœ¬ä¿¡æ¯ï¼ˆæ ‡é¢˜ã€æè¿°ã€æ—¶é•¿ç­‰ï¼‰
- ç»Ÿè®¡æ•°æ®ï¼ˆæ’­æ”¾é‡ã€ç‚¹èµæ•°ã€è¯„è®ºæ•°ç­‰ï¼‰
- UPä¸»ä¿¡æ¯
- è§†é¢‘æ ‡ç­¾å’Œåˆ†åŒºä¿¡æ¯

### 4. ä¸‹è½½æ¨¡å— (`utils/downloader.py`)

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- å¤šæ¸…æ™°åº¦æ”¯æŒï¼ˆ360P-1080Pï¼‰
- éŸ³è§†é¢‘åˆ†ç¦»ä¸‹è½½å’Œåˆå¹¶
- å¹¶å‘ä¸‹è½½æ§åˆ¶
- æ–­ç‚¹ç»­ä¼ 
- å­˜å‚¨ç©ºé—´ç®¡ç†
- æ–‡ä»¶å®Œæ•´æ€§éªŒè¯

**æ”¯æŒçš„è§†é¢‘è´¨é‡ï¼š**
- 16: 360P
- 32: 480Pï¼ˆé»˜è®¤ï¼‰
- 64: 720P
- 80: 1080P

### 5. æ•°æ®é›†ç®¡ç† (`utils/dataset.py`)

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- æ•°æ®é›†ç´¢å¼•ç®¡ç†
- å®Œæ•´æ€§æ£€æŸ¥
- ç»Ÿè®¡æŠ¥å‘Šç”Ÿæˆ
- å¢é‡æ›´æ–°
- æ•°æ®å»é‡

**ç®¡ç†åŠŸèƒ½ï¼š**
```bash
# æ£€æŸ¥æ•°æ®é›†å®Œæ•´æ€§
python main.py --check-integrity

# ç”Ÿæˆç»Ÿè®¡æŠ¥å‘Š
python main.py --generate-report

# å¢é‡æ›´æ–°æ•°æ®é›†
python main.py --increment /path/to/other/dataset
```

## ğŸ›¡ï¸ å¼‚å¸¸å¤„ç†ç³»ç»Ÿ

é¡¹ç›®å®ç°äº†å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œèƒ½å¤Ÿç²¾ç¡®å®šä½å’ŒæŠ¥å‘Šå„ç§é”™è¯¯ï¼š

### é”™è¯¯ç±»å‹
- **ç½‘ç»œè¿æ¥é”™è¯¯**ï¼šæä¾›æœåŠ¡å™¨ä¿¡æ¯å’Œå¤±è´¥åŸå› 
- **è§†é¢‘æµé”™è¯¯**ï¼šåŒ…å«æ¸…æ™°åº¦å’Œæ ¼å¼è¯¦æƒ…
- **éŸ³é¢‘æµé”™è¯¯**ï¼šæ ‡è¯†éŸ³é¢‘æ®µè·å–é—®é¢˜
- **åˆå¹¶é”™è¯¯**ï¼šåŒ…å« FFmpeg é”™è¯¯ä»£ç å’Œä¿¡æ¯
- **é‡è¯•è¶…é™é”™è¯¯**ï¼šè®°å½•å°è¯•æ¬¡æ•°å’Œæœ€åé”™è¯¯
- **ä¿¡æ¯è·å–é”™è¯¯**ï¼šè§†é¢‘å…ƒæ•°æ®è·å–é—®é¢˜
- **ç£ç›˜ç©ºé—´é”™è¯¯**ï¼šæä¾›æ‰€éœ€ç©ºé—´å’Œå¯ç”¨ç©ºé—´ä¿¡æ¯
- **å¤–éƒ¨å·¥å…·é”™è¯¯**ï¼šåŒ…å«å·¥å…·åç§°å’Œå‘½ä»¤è¡Œè¯¦æƒ…

### æ—¥å¿—è®°å½•
æ‰€æœ‰å¼‚å¸¸éƒ½ä¼šè®°å½•åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ï¼ŒåŒ…å«ï¼š
- æ—¶é—´æˆ³
- é”™è¯¯ç±»å‹
- è§†é¢‘ BV å·
- è¯¦ç»†é”™è¯¯ä¿¡æ¯
- å †æ ˆè·Ÿè¸ª

## ğŸ§ª æµ‹è¯•å’Œå¼€å‘

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cd tests
python run_tests.py

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
python run_tests.py downloader dataset

# æ€§èƒ½æµ‹è¯•
python test_performance.py --all
```

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install pytest pytest-asyncio black mypy flake8

# ä»£ç æ ¼å¼åŒ–
black .

# ç±»å‹æ£€æŸ¥
mypy utils/

# ä»£ç é£æ ¼æ£€æŸ¥
flake8 utils/
```

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬çˆ¬å–ç¤ºä¾‹
```python
import asyncio
from utils.login import BiliLogin
from utils.search import BiliSearch
from utils.crawler import BiliCrawler

async def basic_crawl():
    # ç™»å½•
    login = BiliLogin()
    credential = await login.login()
    
    # æœç´¢
    search = BiliSearch(credential)
    videos = await search.search_videos(["æµ‹è¯•å…³é”®è¯"], limit=10)
    
    # çˆ¬å–ä¿¡æ¯
    crawler = BiliCrawler(credential)
    for video in videos:
        info = await crawler.get_video_info(video['bvid'])
        print(f"è§†é¢‘: {info['title']}")

# è¿è¡Œ
asyncio.run(basic_crawl())
```

### æ‰¹é‡ä¸‹è½½ç¤ºä¾‹
```bash
# ä¸‹è½½ç‰¹å®šå…³é”®è¯çš„å‰50ä¸ªè§†é¢‘ï¼ˆ720Pï¼‰
python main.py --keywords "æœºå™¨å­¦ä¹ " "äººå·¥æ™ºèƒ½" --limit 50 --quality 64 --download

# ä½¿ç”¨å¤šçº¿ç¨‹ä¸‹è½½ï¼Œè®¾ç½®å­˜å‚¨é™åˆ¶
python main.py --concurrent 5 --max-size-gb 100 --download
```

## âš ï¸ æ³¨æ„äº‹é¡¹å’Œé™åˆ¶

### ä½¿ç”¨é™åˆ¶
- **ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„**ï¼Œç¦æ­¢ç”¨äºéæ³•ç”¨é€”
- **éµå®ˆ B ç«™ç”¨æˆ·åè®®**å’Œç›¸å…³æ³•å¾‹æ³•è§„
- **é¿å…é¢‘ç¹è¯·æ±‚**ï¼Œé˜²æ­¢è§¦å‘åçˆ¬è™«æœºåˆ¶
- **å°Šé‡ç‰ˆæƒ**ï¼Œä¸‹è½½çš„è§†é¢‘ä»…ç”¨äºç ”ç©¶å’Œè¯„æµ‹

### æŠ€æœ¯é™åˆ¶
- ä¾èµ– B ç«™ API ç¨³å®šæ€§ï¼ŒAPI å˜æ›´å¯èƒ½å½±å“åŠŸèƒ½
- ä¸‹è½½é€Ÿåº¦å—ç½‘ç»œç¯å¢ƒå’Œ B ç«™æœåŠ¡å™¨é™åˆ¶
- æŸäº›è§†é¢‘å¯èƒ½å› ç‰ˆæƒæˆ–åœ°åŒºé™åˆ¶æ— æ³•ä¸‹è½½
- éœ€è¦æœ‰æ•ˆçš„ B ç«™è´¦å·è¿›è¡Œç™»å½•

### æ€§èƒ½å»ºè®®
- å»ºè®®å¹¶å‘æ•°ä¸è¶…è¿‡ 5ï¼Œé¿å…è§¦å‘é™åˆ¶
- å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶ï¼Œé˜²æ­¢å ç”¨è¿‡å¤šç©ºé—´
- ä½¿ç”¨ SSD å­˜å‚¨æé«˜ä¸‹è½½å’Œå¤„ç†é€Ÿåº¦
- åœ¨ç½‘ç»œç¨³å®šçš„ç¯å¢ƒä¸‹è¿è¡Œ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›é¡¹ç›®ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ GNU General Public License Version 3 è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Bilibili-API ä¸»é¡¹ç›®](../)
- [Bç«™å¼€å‘è€…æ–‡æ¡£](https://github.com/SocialSisterYi/bilibili-API-collect)
- [é¡¹ç›® Issues](https://github.com/your-username/bilibili-api/issues)

---

**å…è´£å£°æ˜**ï¼šæœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨é£é™©ï¼Œå¼€å‘è€…ä¸å¯¹ä»»ä½•æŸå¤±æˆ–æ³•å¾‹é—®é¢˜è´Ÿè´£ã€‚
